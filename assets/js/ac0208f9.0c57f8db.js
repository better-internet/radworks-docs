"use strict";(self.webpackChunkradicle_docs=self.webpackChunkradicle_docs||[]).push([[716],{3905:function(e,t,r){r.d(t,{Zo:function(){return d},kt:function(){return h}});var a=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=a.createContext({}),s=function(e){var t=a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},d=function(e){var t=s(e.components);return a.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,d=c(e,["components","mdxType","originalType","parentName"]),u=s(r),h=n,m=u["".concat(l,".").concat(h)]||u[h]||p[h]||o;return r?a.createElement(m,i(i({ref:t},d),{},{components:r})):a.createElement(m,i({ref:t},d))}));function h(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,i=new Array(o);i[0]=u;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:n,i[1]=c;for(var s=2;s<o;s++)i[s]=r[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}u.displayName="MDXCreateElement"},5583:function(e,t,r){r.r(t),r.d(t,{assets:function(){return d},contentTitle:function(){return l},default:function(){return h},frontMatter:function(){return c},metadata:function(){return s},toc:function(){return p}});var a=r(3117),n=r(102),o=(r(7294),r(3905)),i=["components"],c={id:"track-review-merge",title:"Track, review, and merge patches"},l=void 0,s={unversionedId:"using-radicle/track-review-merge",id:"using-radicle/track-review-merge",title:"Track, review, and merge patches",description:"As a project's delegate, you can review and merge patches from any",source:"@site/docs/using-radicle/track-review-merge.md",sourceDirName:"using-radicle",slug:"/using-radicle/track-review-merge",permalink:"/using-radicle/track-review-merge",editUrl:"https://github.com/radicle-dev/radicle-docs/blob/master/docs/using-radicle/track-review-merge.md",tags:[],version:"current",frontMatter:{id:"track-review-merge",title:"Track, review, and merge patches"},sidebar:"docsSidebar",previous:{title:"Create and submit a patch",permalink:"/using-radicle/create-submit-patch"},next:{title:"Why Radicle?",permalink:"/understanding-radicle/why-radicle"}},d={},p=[{value:"Upstream",id:"upstream",level:2},{value:"Track a remote user",id:"track-a-remote-user",level:3},{value:"Review the patch",id:"review-the-patch",level:3},{value:"CLI",id:"cli",level:2},{value:"Track a remote user",id:"track-a-remote-user-1",level:3},{value:"Review on your local system with <code>git</code>",id:"review-on-your-local-system-with-git",level:3},{value:"Collaborate on changes",id:"collaborate-on-changes",level:2},{value:"Merge the patch",id:"merge-the-patch",level:2}],u={toc:p};function h(e){var t=e.components,c=(0,n.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},u,c,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"As a project's ",(0,o.kt)("a",{parentName:"p",href:"/understanding-radicle/glossary#delegate"},"delegate"),", you can review and merge patches from any\ncollaborator back into the canonical branch (typically ",(0,o.kt)("inlineCode",{parentName:"p"},"main")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"master"),") of the project."),(0,o.kt)("p",null,"We recommend you track patches in Upstream, although it's also possible using the CLI."),(0,o.kt)("h2",{id:"upstream"},"Upstream"),(0,o.kt)("h3",{id:"track-a-remote-user"},"Track a remote user"),(0,o.kt)("p",null,"To view patches from a collaborator in Upstream, you need to add their Peer ID to your project. Navigate to your project\nand click on the pencil icon, which opens the ",(0,o.kt)("strong",{parentName:"p"},"Edit remotes")," modal."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Opening the remotes modal in Upstream",src:r(6858).Z,width:"2000",height:"441"})),(0,o.kt)("p",null,"In the text field, enter the Peer ID of the collaborator you'd like to follow, then click ",(0,o.kt)("strong",{parentName:"p"},"Add"),". After a few seconds,\nyou should see their Radicle ID and Peer ID show up in the list of remotes."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"List of tracked remotes",src:r(613).Z,width:"1150",height:"1078"})),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"If the system is having trouble following the Peer ID you supplied, make sure that the collaborator has run ",(0,o.kt)("inlineCode",{parentName:"p"},"rad push"),"\nin their project's main branch."))),(0,o.kt)("h3",{id:"review-the-patch"},"Review the patch"),(0,o.kt)("p",null,"Click on the ",(0,o.kt)("strong",{parentName:"p"},"Patches")," button to view all open patches from collaborators you're tracking via the previous step, and\nthen on the patch you'd like to review, which shows the patch's title, description, and a list of commits. Click on a\ncommit to view a diff of files added, deleted, and changed."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Reviewing a patch in Upstream",src:r(539).Z,width:"1415",height:"1165"})),(0,o.kt)("p",null,"Click the ",(0,o.kt)("strong",{parentName:"p"},"Checkout patch")," button to get a pair of commands that will help you checkout the entire patch to your local\nsystem, which allows you to review all the changes and run tests locally."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ upstream patch fetch hydqsnkr181w1zfidtocgosxghdu8n8d1wsemzgtszhzjru55ggazk/deploy-design-system\n$ git checkout radicle-patch/hydqsnkr181w1zfidtocgosxghdu8n8d1wsemzgtszhzjru55ggazk/deploy-design-system\n")),(0,o.kt)("p",null,"At this point, you can ",(0,o.kt)("a",{parentName:"p",href:"#collaborate-on-changes"},"collaborate")," on changes or ",(0,o.kt)("a",{parentName:"p",href:"#merge-the-patch"},"merge")," directly."),(0,o.kt)("h2",{id:"cli"},"CLI"),(0,o.kt)("h3",{id:"track-a-remote-user-1"},"Track a remote user"),(0,o.kt)("p",null,"To review and merge any code, you first need to find any patches to your project that have been published to a Radicle\nseed node. ",(0,o.kt)("inlineCode",{parentName:"p"},"rad track --remote")," queries the project's default seed node and returns a list of collaborators' Peer IDs\nand their branches."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"You can also use ",(0,o.kt)("inlineCode",{parentName:"p"},"rad track --seed <seed-url>")," to query other seed nodes for possible patches from other\nRadicle users.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ rad track --remote\nradicle-example rad:git:hnrkmkfqk1yadewcgasm1s6mp5pn1hc5ch6wy (willow.radicle.garden)\n\u251c\u2500\u2500 hynh7gxq3u1c7gu7wupyw99k16tz5td8n6tmwdy9s1xcfwn6zucqfy docs-tester\n\u2502   \u2514\u2500\u2500 main 5198e4c43412ecf34ecef812dcffec4efb6eb62c Change to gitignore\n\u2502\n\u251c\u2500\u2500 hynz3cahu1pnmah6a1m59en8c6bujbc5go5inst8chmcr8ahn6byw4 joelhans\n\u2502   \u2514\u2500\u2500 main 9733b3735dd4424666a384e6a397a11c69bac818 Add context to README\n\u2502\n\u2514\u2500\u2500 hyyc74e14b4pddma6jko8385cnjdj154aorp71456gqb4o5uqwkwpk joelhans delegate you\n    \u2514\u2500\u2500 main e2cc2f98df61de3503edfcf6904993add918cda6 Add example folder and files\n")),(0,o.kt)("p",null,"In the example above, you can see the canonical ",(0,o.kt)("inlineCode",{parentName:"p"},"main")," branch, managed by the project's single delegate, in addition to\ntwo additional source trees from collaborators."),(0,o.kt)("p",null,"Let's say you want to track the patch from the ",(0,o.kt)("inlineCode",{parentName:"p"},"docs-tester")," user. Use ",(0,o.kt)("inlineCode",{parentName:"p"},"rad track <peer-id>")," to track the remote peer\nfrom your working copy."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ rad track hynh7gxq3u1c7gu7wupyw99k16tz5td8n6tmwdy9s1xcfwn6zucqfy\n\ud83c\udf31 Establishing tracking relationship for rad:git:hnrkmkfqk1yadewcgasm1s6mp5pn1hc5ch6wy...\nok Tracking relationship hynh7gxq3u1c7gu7wupyw99k16tz5td8n6tmwdy9s1xcfwn6zucqfy established\nok Syncing peer refs from willow.radicle.garden...\nok Remote-tracking branch peer/docs-tester/main created for hynh7gx\u20266zucqfy\n")),(0,o.kt)("p",null,"This sets up a remote in your working copy and a tracking branch named after the peer and project's default branch \u2014 for\nexample, ",(0,o.kt)("inlineCode",{parentName:"p"},"peer/docs-tester/main"),", which you can see in the last line of the above output."),(0,o.kt)("h3",{id:"review-on-your-local-system-with-git"},"Review on your local system with ",(0,o.kt)("inlineCode",{parentName:"h3"},"git")),(0,o.kt)("p",null,"Compare the tracking branch against the local state of your canonical branch with ",(0,o.kt)("inlineCode",{parentName:"p"},"git diff"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ git diff main..peer/docs-tester/main\n")),(0,o.kt)("h2",{id:"collaborate-on-changes"},"Collaborate on changes"),(0,o.kt)("p",null,"There currently is no code review or commenting features built into Radicle. All this communication happens outside of\nRadicle tooling, and the processes are entirely up to your discretion. As you work through the review process with your\ncollaborator, they will need to ",(0,o.kt)("a",{parentName:"p",href:"/using-radicle/create-submit-patch#address-requested-changes-if-needed"},"run ",(0,o.kt)("inlineCode",{parentName:"a"},"upstream patch\nupdate"))," to ensure you're seeing the most up-to-date\nchanges."),(0,o.kt)("h2",{id:"merge-the-patch"},"Merge the patch"),(0,o.kt)("p",null,"Once you're happy with the changes, merge them into your local copy and push everything to your project, updating the\nprimary branch."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ git merge peer/docs-tester/main\n$ rad push\n")))}h.isMDXComponent=!0},539:function(e,t,r){t.Z=r.p+"assets/images/upstream_patches-bc7d05c68cc2f2ab203fd057f88f9db7.png"},613:function(e,t,r){t.Z=r.p+"assets/images/upstream_remotes-65c0c594fea046459fd51bb146b66f98.png"},6858:function(e,t,r){t.Z=r.p+"assets/images/upstream_track-0c809662157755491d8a709e31f1f92c.png"}}]);