<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Running a seed node · Radicle docs</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="To improve data availability of Radicle&#x27;s peer-to-peer network, participants in"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Running a seed node · Radicle docs"/><meta property="og:type" content="website"/><meta property="og:url" content="https://docs.radicle.xyz/"/><meta property="og:description" content="To improve data availability of Radicle&#x27;s peer-to-peer network, participants in"/><meta property="og:image" content="https://docs.radicle.xyz/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://docs.radicle.xyz/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/radicle.svg" alt="Radicle docs"/><h2 class="headerTitleWithLogo">Radicle docs</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher singleRowMobileNav"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Running a seed node</h1></header><article><div><span><p>To improve data availability of Radicle's peer-to-peer network, participants in
the network can choose to act as <a href="/docs/understanding-radicle/glossary/#seed">seeds</a>. Seeds are always-on nodes that
automatically track discovered projects, thereby increasing the availability of
these projects on the network. Conceptually, they are similar to pubs in <a href="https://scuttlebutt.nz">Secure
Scuttlebutt</a>.</p>
<blockquote>
<p>Running a seed node is for contributing to the availability
and redundancy of Radicle's peer-to-peer network. Running a seed node is not
related to token incentives at this time. For more on how the Radicle token
works, please refer to the <a href="https://radicle.xyz/blog/introducing-rad.html">Introducing RAD</a> post.</p>
</blockquote>
<p>To build and run a seed node, you'll have to install some prerequisites on your
machine first:</p>
<ul>
<li><a href="https://www.rust-lang.org/tools/install">Rust toolchain</a>, you'll need Rust <strong>nightly</strong>, easiest way to set it
up is via <a href="https://rustup.rs">rustup</a></li>
<li><a href="https://yarnpkg.com/getting-started/install">yarn</a></li>
</ul>
<p><em>Make sure to restart terminal after installation</em></p>
<p>Next, clone and set up the <code>radicle-bins</code> repository:</p>
<pre><code class="hljs">git clone https://github.com/radicle-dev/radicle-bins.git
cd radicle-bins
</code></pre>
<p>Install UI depependencies and build the UI:</p>
<pre><code class="hljs">(cd seed/ui &amp;&amp; yarn &amp;&amp; yarn build)
</code></pre>
<p>Next, let's set up a directory where the seed can store its data. This is
important in case you are running a Radicle Upstream client on the same machine.
The default path for both Radicle Upstream and the seed node would otherwise be
the same and could result in unexpected behaviour.</p>
<pre><code class="hljs">mkdir -p ~/.radicle-seed
</code></pre>
<p>Then, you'll have to generate a private key:</p>
<pre><code class="hljs">cargo run -p radicle-keyutil -- --filename ~/.radicle-seed/secret.key
</code></pre>
<p>In order for people to connect to the seed node from the internet, you'll have
to allow incoming connections for the following ports:</p>
<ul>
<li><code>UDP:12345</code>  - for peer data exchange</li>
<li><code>TCP:80</code>     - for the seed node UI</li>
</ul>
<p>For this example, let's assume that we have the public IP address <code>1.2.3.4</code> at
our disposal and that our router is set up to forward the ports UDP:12345 and
TCP:80 to the machine where the seed node will be running.</p>
<p>While not strictly necessary, it's nice to have a domain name set up for the
public IP address as well. For this example, we'll use this record:
<code>seed.example.com. A 1.2.3.4</code>.</p>
<p>Now you're ready to start the seed node. Let's return to the radicle-bins folder <code>cd ~/radicle-bins</code> and configure it to listen on ports
12345 and 80 on all interfaces, the private key is supplied via <code>STDIN</code>:</p>
<pre><code class="hljs">cargo run -p radicle-seed-node --release -- \
  --root ~/.radicle-seed \
  --peer-listen 0.0.0.0:12345 \
  --http-listen 0.0.0.0:80 \
  --name &quot;seedling&quot; \
  --public-addr &quot;seed.example.com:12345&quot; \
  --assets-path seed/ui/public \
  &lt; ~/.radicle-seed/secret.key
</code></pre>
<p><strong>Note:</strong> we configured the seed to use <code>~/.radicle-seed</code> as its data directory
with the <code>--root</code> option. Remember to adjust <code>--public-addr</code> and <code>--name</code> to
your setup. <code>--name</code> will be shown as a heading and <code>--public-addr</code> will appear
in the seed address as <code>&lt;SEED-ID&gt;@&lt;PUBLIC-ADDR&gt;:&lt;PORT&gt;</code>.</p>
<p><details>
<summary>
This is what you'll see in the terminal when starting the seed node:
</summary></p>
<pre><code class="hljs">$ cargo run -p radicle-seed-node --release -- \
  --root ~/.radicle-seed \
  --peer-listen 0.0.0.0:12345 \
  --http-listen 0.0.0.0:80 \
  --name &quot;seedling&quot; \
  --public-addr &quot;seed.example.com:12345&quot; \
  --assets-path seed/ui/public \
  &lt; ~/.radicle-seed/secret.key
    Finished release [optimized] target(s) in 0.19s
     Running `target/release/radicle-seed-node --root /Users/rudolfs/.radicle-seed --peer-listen '0.0.0.0:12345' --http-listen '0.0.0.0:80' --name seedling --public-addr 'seed.example.com:12345' --assets-path seed/ui/public`
Nov 12 10:48:03.758  INFO radicle_seed: Initializing tracker to track everything..
Nov 12 10:48:03.758  INFO Protocol::run{local.id=hyy5s7ysg96fqa91gbe7h38yddh4mkokft7y4htt8szt9e17sxoe3h local.addr=0.0.0.0:12345}: librad::net::protocol: Listening
Nov 12 10:48:03.760  INFO Server::run{addr=0.0.0.0:80}: warp::server: listening on http://0.0.0.0:80
Nov 12 10:48:03.760  INFO radicle_seed_node::frontend: Listening(0.0.0.0:12345)
</code></pre>
<p></details></p>
<p>Now point your browser to the address you set instead of <code>http://seed.example.com</code>. This is the seed node dashboard.</p>
<p><img src="/img/seed-node-ui.png" alt="Seed node UI"></p>
<p>For Upstream clients to connect to your new seed, you'll need to share the seed
address. This address can be found in the UI under the name of the seed. In our
example the address is:</p>
<pre><code class="hljs">hyy5s7ysg96fqa91gbe7h38yddh4mkokft7y4htt8szt9e17sxoe3h@seed.example.com:12345
</code></pre>
<p>Have a look at the <a href="/docs/using-radicle/adding-a-seed-node">Adding a custom seed node</a> section for more information
on how to set up the new seed in Upstream.</p>
<h3><a class="anchor" aria-hidden="true" id="requirements-for-running-a-seed-node"></a><a href="#requirements-for-running-a-seed-node" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Requirements for running a seed node</h3>
<p>The requirements for the seed server are minimal. You should be able to run it
with just 1GB of RAM and a single core server.</p>
<p>The two main resources to watch out for are the storage and network quotas/cost.
The storage scales directly with the amount of code in all projects stored. As
of mid-2021 you won't need more than 10G of storage, but better plan for quick
expansion.</p>
<p>The network should sustain 300kbps and your monthly transfer quotas should be
able to cover that.</p>
<h3><a class="anchor" aria-hidden="true" id="common-questions"></a><a href="#common-questions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Common questions</h3>
<ol>
<li>Why is my node is not connecting to others or cloning any projects?</li>
</ol>
<p>By default your node will not automatically join any network, however it will
learn about other accessible nodes from connected clients. To initiate the
connection automatically, you can start the node with the <code>--bootstrap</code> option
and a list of seed node addresses.</p>
<ol start="2">
<li>Are there any rewards for running the seed node?</li>
</ol>
<p>Not at the moment. This is technically hard to implement fairly, but you're
welcome to discuss ideas for it on the forum.</p>
<ol start="3">
<li>Why is the seed host running out of resources?</li>
</ol>
<p>There are still issues to solve in the code. In order to keep your host
responsive and handle temporary problems and traffic spikes, it's best to limit
the resources available to it. On Linux this can be done with cgroups. Limiting
available memory to below 1GB and maximum CPU usage to 80% will allow you to
gracefully restart the service if needed.</p>
<h3><a class="anchor" aria-hidden="true" id="common-issues"></a><a href="#common-issues" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Common issues</h3>
<p>When trying to start the seed, you may run into a few common issues:</p>
<ol>
<li><code>error: linker 'cc' not found</code></li>
</ol>
<p>You don't have a C compiler installed. In debian/ubuntu try
<code>apt-get install build-essential</code>. In redhat-based systems try
<code>yum install gcc</code>.</p>
<ol start="2">
<li><code>error binding to 0.0.0.0:80 (...) Permission denied</code></li>
</ol>
<p>Ports below 1024 are often reserved for administrator accounts. You can change
the <code>http-listen</code> parameter to a higher port, or run behind a proxy.</p>
<ol start="3">
<li><code>Address already in use</code></li>
</ol>
<p>Another services is already listening on one of the requested ports. Either use
a different port for radicle, or find the conflicting service using tools like
<code>netstat</code> or <code>lsof</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="upgrading-a-seed-node-from-v01x-to-v02x"></a><a href="#upgrading-a-seed-node-from-v01x-to-v02x" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrading a seed node from v0.1.x to v0.2.x</h3>
<ol>
<li>Get the latest changes on <code>radicle-bins</code>:</li>
</ol>
<pre><code class="hljs">cd radicle-bins
git checkout <span class="hljs-keyword">master</span>
<span class="hljs-title">git</span> pull
</code></pre>
<ol start="2">
<li><p>The data layout between v0.1 and v0.2 seed nodes changed, this means you'll
have to remove the old seed data directory and re-seed all of your projects
from source. Assuming you followed this documentation to set up your seed
node it should be sufficient to remove the directory where <code>--root</code> pointed
to.</p></li>
<li><p>Set up and run the seed node as per the steps outlined above starting with
creating a new key.</p></li>
</ol>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"></nav></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '8bd6e28f1096b67612c18dbc3ba55438',
                indexName: 'radicle',
                inputSelector: '#search_input_react'
              });
            </script></body></html>